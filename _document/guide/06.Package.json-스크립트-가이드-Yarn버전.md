# Package.json ìŠ¤í¬ë¦½íŠ¸ ê°€ì´ë“œ (Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë²„ì „)

LibreChatì€ **Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤**ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë…¸ë ˆí¬ì…ë‹ˆë‹¤. (`"packageManager": "yarn@4.9.4"`)

## ğŸ§¶ Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¸°ë³¸ êµ¬ì¡°

```json
{
  "workspaces": [
    "api",
    "client", 
    "packages/*"
  ],
  "packageManager": "yarn@4.9.4"
}
```

## ğŸ“¦ ê¸°ë³¸ ì„¤ì¹˜ ë° ì˜ì¡´ì„± ê´€ë¦¬

### **ğŸ ì²˜ìŒ ì‹œì‘í•  ë•Œ**
```bash
# Yarn ì„¤ì¹˜ (í•„ìš”í•œ ê²½ìš°)
npm install -g yarn

# ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# ë˜ëŠ”
yarn
```

### **ì˜ì¡´ì„± ê´€ë¦¬**
```bash
# ë£¨íŠ¸ì—ì„œ ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— íŒ¨í‚¤ì§€ ì¶”ê°€
yarn workspace client add react-router-dom
yarn workspace api add express

# ë£¨íŠ¸ ë ˆë²¨ì— devDependencies ì¶”ê°€  
yarn add -D eslint prettier

# ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í´ë¦° í›„ ì¬ì„¤ì¹˜
yarn clean   # (ìˆëŠ” ê²½ìš°)
rm -rf node_modules */node_modules packages/*/node_modules
yarn install
```

## ğŸš€ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ ì‚¬ìš©ë²• (Yarn ê¸°ë°˜)

### **ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •**

#### **ì²˜ìŒ í”„ë¡œì íŠ¸ ì‹œì‘**
```bash
# 1. Yarnìœ¼ë¡œ ëª¨ë“  ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# 2. íŒ¨í‚¤ì§€ ë¹Œë“œ (ìˆœì„œ ì¤‘ìš”!)
yarn build:data-schemas     # 1ìˆœìœ„: ìŠ¤í‚¤ë§ˆ ë¹Œë“œ
yarn build:data-provider    # 2ìˆœìœ„: API ë¼ì´ë¸ŒëŸ¬ë¦¬  
yarn build:api              # 3ìˆœìœ„: ë°±ì—”ë“œ ê³µí†µ ë¡œì§
yarn build:client-package   # 4ìˆœìœ„: UI ì»´í¬ë„ŒíŠ¸

# 3. ê°œë°œ ì„œë²„ ì‹œì‘
yarn backend:dev            # í„°ë¯¸ë„ 1 (ë°±ì—”ë“œ)
yarn frontend:dev           # í„°ë¯¸ë„ 2 (í”„ë¡ íŠ¸ì—”ë“œ)
```

### **ğŸ“¦ ë¹Œë“œ ê´€ë ¨ ëª…ë ¹ì–´**

#### **ê°œë³„ íŒ¨í‚¤ì§€ ë¹Œë“œ** (Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í™œìš©)
```bash
# ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹¤í–‰ (package.jsonì˜ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©)
yarn build:data-schemas     # packages/data-schemas ë¹Œë“œ
yarn build:data-provider    # packages/data-provider ë¹Œë“œ  
yarn build:api              # packages/api ë¹Œë“œ
yarn build:client-package   # packages/client ë¹Œë“œ

# ë˜ëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì§ì ‘ ì‹¤í–‰
yarn workspace @librechat/data-schemas build
yarn workspace librechat-data-provider build
yarn workspace @librechat/api build
yarn workspace @librechat/client build
```

#### **ì „ì²´ í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ**
```bash
yarn frontend               # ëª¨ë“  íŒ¨í‚¤ì§€ + í´ë¼ì´ì–¸íŠ¸ ë¹Œë“œ
yarn frontend:ci            # CI í™˜ê²½ìš© ë¹Œë“œ
```

### **ğŸ–¥ï¸ ì„œë²„ ì‹¤í–‰**

#### **ë°±ì—”ë“œ ì„œë²„**
```bash
yarn backend                # í”„ë¡œë•ì…˜ ëª¨ë“œ
yarn backend:dev            # ê°œë°œ ëª¨ë“œ (nodemon)
yarn backend:stop           # ì„œë²„ ì¤‘ì§€
```

#### **í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„**
```bash
yarn frontend:dev           # Vite ê°œë°œ ì„œë²„ ì‹œì‘
# ë‚´ë¶€ì ìœ¼ë¡œ: cd client && yarn dev
```

### **ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬**

```bash
# ì‚¬ìš©ì ê³„ì • ê´€ë¦¬
yarn create-user            # ìƒˆ ì‚¬ìš©ì ìƒì„±
yarn list-users             # ì‚¬ìš©ì ëª©ë¡
yarn delete-user            # ì‚¬ìš©ì ì‚­ì œ
yarn ban-user               # ì‚¬ìš©ì ì°¨ë‹¨
yarn reset-password         # íŒ¨ìŠ¤ì›Œë“œ ì¬ì„¤ì •
yarn invite-user            # ì‚¬ìš©ì ì´ˆëŒ€

# ì”ì•¡ ê´€ë¦¬
yarn add-balance            # í† í° ì”ì•¡ ì¶”ê°€
yarn set-balance            # ì”ì•¡ ì„¤ì •
yarn list-balances          # ì”ì•¡ ëª©ë¡
yarn user-stats             # ì‚¬ìš©ì í†µê³„
```

### **ğŸ§ª í…ŒìŠ¤íŠ¸**

```bash
# ìœ ë‹› í…ŒìŠ¤íŠ¸
yarn test:client            # í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
yarn test:api               # ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸

# ë˜ëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì§ì ‘ ì‹¤í–‰
yarn workspace client test:ci
yarn workspace api test:ci

# E2E í…ŒìŠ¤íŠ¸
yarn e2e                    # Playwright ë¡œì»¬ í…ŒìŠ¤íŠ¸
yarn e2e:headed             # ë¸Œë¼ìš°ì € ë³´ë©° í…ŒìŠ¤íŠ¸
yarn e2e:a11y               # ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸
yarn e2e:debug              # ë””ë²„ê·¸ ëª¨ë“œ
yarn e2e:codegen            # í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±
```

### **ğŸ” ì½”ë“œ í’ˆì§ˆ**

```bash
# ë¦°íŠ¸ ë° í¬ë§·íŒ…
yarn lint                   # ESLint ê²€ì‚¬ 
yarn lint:fix               # ìë™ ìˆ˜ì •
yarn format                 # Prettier í¬ë§·íŒ…

# TypeScript íƒ€ì… ì²´í¬
yarn workspace client typecheck
```

### **ğŸ³ ë°°í¬**

```bash
# Docker ë°°í¬
yarn start:deployed         # í”„ë¡œë•ì…˜ Docker ì‹œì‘
yarn stop:deployed          # Docker ì»¨í…Œì´ë„ˆ ì¤‘ì§€
yarn update:deployed        # ë°°í¬ ì—…ë°ì´íŠ¸
yarn rebase:deployed        # Rebase í¬í•¨ ì—…ë°ì´íŠ¸
```

### **ğŸ› ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬**

```bash
# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ ë° ì¬ì„¤ì¹˜
yarn update                 # íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
yarn reinstall              # ì „ì²´ ì¬ì„¤ì¹˜
yarn update:local           # ë¡œì»¬ë§Œ ì—…ë°ì´íŠ¸
yarn update:docker          # Docker í™˜ê²½ ì—…ë°ì´íŠ¸

# ì‹œìŠ¤í…œ ìœ ì§€ë³´ìˆ˜
yarn flush-cache            # Redis ìºì‹œ ì‚­ì œ
yarn reset-meili-sync       # MeiliSearch ì¬ì„¤ì •
yarn reset-terms            # ì´ìš©ì•½ê´€ ë¦¬ì…‹

# ë°°ë„ˆ ê´€ë¦¬  
yarn update-banner          # ê³µì§€ ë°°ë„ˆ ì—…ë°ì´íŠ¸
yarn delete-banner          # ë°°ë„ˆ ì‚­ì œ
```

### **ğŸ”„ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜**

```bash
# ê¶Œí•œ ë§ˆì´ê·¸ë ˆì´ì…˜
yarn migrate:agent-permissions:dry-run      # ì—ì´ì „íŠ¸ ê¶Œí•œ ë¯¸ë¦¬ë³´ê¸°
yarn migrate:agent-permissions             # ì‹¤í–‰
yarn migrate:prompt-permissions:dry-run    # í”„ë¡¬í”„íŠ¸ ê¶Œí•œ ë¯¸ë¦¬ë³´ê¸°
yarn migrate:prompt-permissions           # ì‹¤í–‰
```

## ğŸ§¶ Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŠ¹í™” ëª…ë ¹ì–´

### **ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë³„ ì§ì ‘ ëª…ë ¹ ì‹¤í–‰**
```bash
# íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
yarn workspace client dev                  # í´ë¼ì´ì–¸íŠ¸ ê°œë°œ ì„œë²„
yarn workspace api test                   # API í…ŒìŠ¤íŠ¸
yarn workspace @librechat/data-schemas build

# ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ë™ì¼í•œ ëª…ë ¹ ì‹¤í–‰
yarn workspaces foreach run build         # ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë¹Œë“œ
yarn workspaces foreach run test          # ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í…ŒìŠ¤íŠ¸
yarn workspaces foreach --parallel run build  # ë³‘ë ¬ ì‹¤í–‰
```

### **ì˜ì¡´ì„± ë¶„ì„**
```bash
# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ êµ¬ì¡° í™•ì¸
yarn workspaces list

# ì˜ì¡´ì„± íŠ¸ë¦¬ í™•ì¸
yarn why package-name

# ì¤‘ë³µ íŒ¨í‚¤ì§€ í™•ì¸
yarn dedupe
```

## ğŸ¯ Yarn ê¸°ë°˜ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### **ğŸ ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”©**
```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/danny-avila/LibreChat.git
cd LibreChat

# 2. Yarn ì„¤ì¹˜ ë° ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# 4. íŒ¨í‚¤ì§€ ë¹Œë“œ (ìˆœì„œëŒ€ë¡œ!)
yarn build:data-schemas
yarn build:data-provider
yarn build:api
yarn build:client-package

# 5. ê°œë°œ ì„œë²„ ì‹œì‘
yarn backend:dev            # í„°ë¯¸ë„ 1
yarn frontend:dev           # í„°ë¯¸ë„ 2
```

### **ğŸ”„ ì¼ë°˜ì ì¸ ê°œë°œ ì‚¬ì´í´**
```bash
# 1. ìµœì‹  ì½”ë“œ ë™ê¸°í™”
git pull origin main
yarn install                # ìƒˆë¡œìš´ ì˜ì¡´ì„±ì´ ìˆì„ ìˆ˜ ìˆìŒ

# 2. íŒ¨í‚¤ì§€ ì¬ë¹Œë“œ (í•„ìš”ì‹œ)
yarn build:data-schemas     # ìŠ¤í‚¤ë§ˆ ë³€ê²½ì‹œ
yarn build:data-provider    # API ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ì‹œ

# 3. ê°œë°œ ë° í…ŒìŠ¤íŠ¸
yarn backend:dev            # ë°±ì—”ë“œ ê°œë°œ
yarn frontend:dev           # í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ
yarn test:client            # í…ŒìŠ¤íŠ¸ ì‹¤í–‰

# 4. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
yarn lint:fix
yarn format

# 5. ë¹Œë“œ í™•ì¸
yarn frontend               # í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸
```

### **ğŸ› ë¬¸ì œ í•´ê²° í”„ë¡œì„¸ìŠ¤**
```bash
# 1. ì˜ì¡´ì„± ë¬¸ì œ í•´ê²°
rm -rf node_modules */node_modules packages/*/node_modules yarn.lock
yarn install

# 2. íŒ¨í‚¤ì§€ ë¹Œë“œ ë¬¸ì œ
yarn build:data-schemas
yarn build:data-provider
yarn build:api
yarn build:client-package

# 3. ìºì‹œ ë¬¸ì œ
yarn flush-cache
yarn workspace client run dev --force

# 4. TypeScript ë¬¸ì œ
yarn workspace client typecheck
yarn workspace api typecheck
```

## âš ï¸ Yarn ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­

### **ğŸš« í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒë“¤**
```bash
# âŒ npmê³¼ yarn í˜¼ìš© ê¸ˆì§€
npm install                 # yarn.lockì´ ìˆëŠ”ë° package-lock.json ìƒì„±
npm run build              # package.jsonì— npm ëª…ë ¹ì–´ê°€ ìˆì–´ë„ yarn ì‚¬ìš© ê¶Œì¥

# âŒ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ì—ì„œ ê°œë³„ íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install react          # yarn workspace client add react ì‚¬ìš©
```

### **âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•**
```bash
# âœ… Yarn ëª…ë ¹ì–´ë¡œ í†µì¼
yarn install
yarn build:data-schemas
yarn workspace client add react
yarn workspaces foreach run build
```

### **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € í™•ì¸**
```bash
# í˜„ì¬ ì„¤ì •ëœ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € í™•ì¸
cat package.json | grep packageManager
# "packageManager": "yarn@4.9.4"

# Yarn ë²„ì „ í™•ì¸
yarn --version
```

## ğŸ”§ Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ì¥ì 

1. **ì˜ì¡´ì„± í˜¸ì´ìŠ¤íŒ…**: ê³µí†µ ì˜ì¡´ì„±ì„ ë£¨íŠ¸ì—ì„œ ê´€ë¦¬
2. **ë¹ ë¥¸ ì„¤ì¹˜**: ì¤‘ë³µ íŒ¨í‚¤ì§€ ì œê±°ë¡œ ì„¤ì¹˜ ì†ë„ í–¥ìƒ  
3. **ë²„ì „ ì¼ê´€ì„±**: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê°„ íŒ¨í‚¤ì§€ ë²„ì „ í†µì¼
4. **ê°œë°œ íš¨ìœ¨ì„±**: ë¡œì»¬ íŒ¨í‚¤ì§€ ê°„ ì‹¬ë³¼ë¦­ ë§í¬ ìë™ ìƒì„±
5. **ìŠ¤í¬ë¦½íŠ¸ ê´€ë¦¬**: ë£¨íŠ¸ì—ì„œ ëª¨ë“  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°€ëŠ¥

ì´ì œ LibreChatì„ Yarn ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!