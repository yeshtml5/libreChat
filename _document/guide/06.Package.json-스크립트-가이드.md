# Package.json ìŠ¤í¬ë¦½íŠ¸ ê°€ì´ë“œ

LibreChat í”„ë¡œì íŠ¸ì˜ `package.json` ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ë“¤ì˜ ì˜ë¯¸ì™€ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì…ë‹ˆë‹¤.

## ğŸ“¦ ë£¨íŠ¸ Package.json ìŠ¤í¬ë¦½íŠ¸

### ğŸ”„ ì—…ë°ì´íŠ¸ ê´€ë ¨ ëª…ë ¹ì–´

#### `npm run update`
```bash
npm run update
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/update.js`
- **ê¸°ëŠ¥**: í”„ë¡œì íŠ¸ ì˜ì¡´ì„±ì„ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸
- **ì‚¬ìš© ì‹œì **: ì •ê¸°ì ì¸ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ì‹œ
- **ì£¼ì˜ì‚¬í•­**: í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë¨¼ì € ì‹¤í–‰

#### `npm run reinstall`
```bash
npm run reinstall
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/update.js -l -g`
- **ê¸°ëŠ¥**: ëª¨ë“  `node_modules` ì‚­ì œ í›„ ì¬ì„¤ì¹˜ (ë¡œì»¬, ê¸€ë¡œë²Œ)
- **ì‚¬ìš© ì‹œì **: ì˜ì¡´ì„± ì¶©ëŒì´ë‚˜ ì„¤ì¹˜ ë¬¸ì œ ë°œìƒ ì‹œ
- **ì˜µì…˜**:
  - `-l`: ë¡œì»¬ íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜
  - `-g`: ê¸€ë¡œë²Œ íŒ¨í‚¤ì§€ë„ í•¨ê»˜ ì²˜ë¦¬

#### Bun ë²„ì „ ëª…ë ¹ì–´ë“¤
```bash
npm run b:reinstall        # Bunìœ¼ë¡œ ì¬ì„¤ì¹˜
npm run reinstall:docker   # Docker í™˜ê²½ì—ì„œ ì¬ì„¤ì¹˜
npm run update:local       # ë¡œì»¬ë§Œ ì—…ë°ì´íŠ¸
npm run update:docker      # Docker í™˜ê²½ ì—…ë°ì´íŠ¸
```

### ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬ ëª…ë ¹ì–´

#### `npm run create-user`
```bash
npm run create-user
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/create-user.js`
- **ê¸°ëŠ¥**: ìƒˆ ì‚¬ìš©ì ê³„ì • ìƒì„±
- **ì‚¬ìš©ë²•**: ëŒ€í™”í˜• í”„ë¡¬í”„íŠ¸ë¡œ ì‚¬ìš©ì ì •ë³´ ì…ë ¥
- **ì˜ˆì‹œ**:
```bash
npm run create-user
# í”„ë¡¬í”„íŠ¸ì—ì„œ ì´ë©”ì¼, íŒ¨ìŠ¤ì›Œë“œ, ì´ë¦„ ì…ë ¥
```

#### `npm run invite-user`
```bash
npm run invite-user -- --email user@example.com
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/invite-user.js`
- **ê¸°ëŠ¥**: ì‚¬ìš©ì ì´ˆëŒ€ ì´ë©”ì¼ ë°œì†¡
- **ì˜µì…˜**: `--email` ì´ˆëŒ€í•  ì´ë©”ì¼ ì£¼ì†Œ ì§€ì •

#### `npm run ban-user`
```bash
npm run ban-user -- --email user@example.com
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/ban-user.js`
- **ê¸°ëŠ¥**: íŠ¹ì • ì‚¬ìš©ì ê³„ì • ì°¨ë‹¨
- **ì‚¬ìš©ë²•**: ì´ë©”ì¼ ì£¼ì†Œë¡œ ì‚¬ìš©ì ì§€ì •

#### `npm run delete-user`
```bash
npm run delete-user -- --email user@example.com
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/delete-user.js`
- **ê¸°ëŠ¥**: ì‚¬ìš©ì ê³„ì • ì™„ì „ ì‚­ì œ
- **ì£¼ì˜**: ë˜ëŒë¦´ ìˆ˜ ì—†ëŠ” ì‘ì—…

### ğŸ’° ì”ì•¡ ê´€ë¦¬ ëª…ë ¹ì–´

#### `npm run add-balance`
```bash
npm run add-balance -- --email user@example.com --amount 100
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/add-balance.js`
- **ê¸°ëŠ¥**: ì‚¬ìš©ì í† í° ì”ì•¡ ì¶”ê°€
- **ì˜µì…˜**:
  - `--email`: ì‚¬ìš©ì ì´ë©”ì¼
  - `--amount`: ì¶”ê°€í•  ì”ì•¡

#### `npm run set-balance`
```bash
npm run set-balance -- --email user@example.com --balance 500
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/set-balance.js`
- **ê¸°ëŠ¥**: ì‚¬ìš©ì ì”ì•¡ì„ íŠ¹ì • ê°’ìœ¼ë¡œ ì„¤ì •
- **ì°¨ì´ì **: `add-balance`ëŠ” ì¶”ê°€, `set-balance`ëŠ” ì„¤ì •

#### `npm run list-balances`
```bash
npm run list-balances
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/list-balances.js`
- **ê¸°ëŠ¥**: ëª¨ë“  ì‚¬ìš©ìì˜ ì”ì•¡ ëª©ë¡ ì¡°íšŒ
- **ì¶œë ¥**: ì´ë©”ì¼ë³„ í˜„ì¬ ì”ì•¡ í‘œì‹œ

### ğŸ–¥ï¸ ì„œë²„ ì‹¤í–‰ ëª…ë ¹ì–´

#### `npm run backend`
```bash
npm run backend
```
- **ì‹¤í–‰ íŒŒì¼**: `cross-env NODE_ENV=production node api/server/index.js`
- **ê¸°ëŠ¥**: í”„ë¡œë•ì…˜ ëª¨ë“œë¡œ ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰
- **í¬íŠ¸**: ê¸°ë³¸ 3080 (PORT í™˜ê²½ë³€ìˆ˜ë¡œ ë³€ê²½ ê°€ëŠ¥)

#### `npm run backend:dev`
```bash
npm run backend:dev
```
- **ì‹¤í–‰ íŒŒì¼**: `cross-env NODE_ENV=development npx nodemon api/server/index.js`
- **ê¸°ëŠ¥**: ê°œë°œ ëª¨ë“œë¡œ ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ (ìë™ ì¬ì‹œì‘)
- **íŠ¹ì§•**: íŒŒì¼ ë³€ê²½ì‹œ ìë™ìœ¼ë¡œ ì„œë²„ ì¬ì‹œì‘

#### `npm run backend:stop`
```bash
npm run backend:stop
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/stop-backend.js`
- **ê¸°ëŠ¥**: ì‹¤í–‰ ì¤‘ì¸ ë°±ì—”ë“œ ì„œë²„ ì¤‘ì§€

### ğŸ“¦ íŒ¨í‚¤ì§€ ë¹Œë“œ ëª…ë ¹ì–´ (ì¤‘ìš”!)

#### íŒ¨í‚¤ì§€ ë¹Œë“œ ìˆœì„œ (ë°˜ë“œì‹œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰)
```bash
# 1ë‹¨ê³„: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ë¹Œë“œ
npm run build:data-schemas
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd packages/data-schemas && npm run build`
- **ê¸°ëŠ¥**: MongoDB ìŠ¤í‚¤ë§ˆì™€ TypeScript íƒ€ì… ì •ì˜ ë¹Œë“œ
- **ì¤‘ìš”ë„**: â­â­â­ (ê°€ì¥ ë¨¼ì € ì‹¤í–‰í•´ì•¼ í•¨)

```bash
# 2ë‹¨ê³„: ë°ì´í„° í”„ë¡œë°”ì´ë” ë¹Œë“œ  
npm run build:data-provider
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd packages/data-provider && npm run build`
- **ê¸°ëŠ¥**: API í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹Œë“œ
- **ì˜ì¡´ì„±**: data-schemasì— ì˜ì¡´

```bash
# 3ë‹¨ê³„: API íŒ¨í‚¤ì§€ ë¹Œë“œ
npm run build:api
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd packages/api && npm run build`
- **ê¸°ëŠ¥**: ë°±ì—”ë“œ ê³µí†µ ë¡œì§ ë¹Œë“œ
- **ì˜ì¡´ì„±**: data-schemasì— ì˜ì¡´

```bash
# 4ë‹¨ê³„: í´ë¼ì´ì–¸íŠ¸ íŒ¨í‚¤ì§€ ë¹Œë“œ
npm run build:client-package
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd packages/client && npm run build`
- **ê¸°ëŠ¥**: ê³µí†µ UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹Œë“œ
- **ì˜ì¡´ì„±**: ëª¨ë“  ì´ì „ íŒ¨í‚¤ì§€ì— ì˜ì¡´

### ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ëª…ë ¹ì–´

#### `npm run frontend`
```bash
npm run frontend
```
- **ì „ì²´ í”„ë¡œì„¸ìŠ¤**: 
  1. `npm run build:data-provider`
  2. `npm run build:data-schemas`
  3. `npm run build:api` 
  4. `npm run build:client-package`
  5. `cd client && npm run build`
- **ê¸°ëŠ¥**: í”„ë¡œë•ì…˜ìš© í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
- **ê²°ê³¼ë¬¼**: `client/dist/` í´ë”ì— ì •ì  íŒŒì¼ ìƒì„±

#### `npm run frontend:dev`
```bash
npm run frontend:dev
```
- **ê¸°ëŠ¥**: ê°œë°œ ì„œë²„ ì‹œì‘ (íŒ¨í‚¤ì§€ ë¹Œë“œ í¬í•¨)
- **íŠ¹ì§•**: HMR(Hot Module Replacement) ì§€ì›
- **ì£¼ì†Œ**: http://localhost:3080

#### `npm run frontend:ci`
```bash
npm run frontend:ci
```
- **ê¸°ëŠ¥**: CI í™˜ê²½ìš© í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
- **íŠ¹ì§•**: ê°œë°œ ëª¨ë“œì´ì§€ë§Œ ìµœì í™”ëœ ë¹Œë“œ

### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´

#### `npm run test:client`
```bash
npm run test:client
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd client && npm run test:ci`
- **ê¸°ëŠ¥**: í”„ë¡ íŠ¸ì—”ë“œ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬**: Jest + React Testing Library

#### `npm run test:api`  
```bash
npm run test:api
```
- **ì‹¤í–‰ ìœ„ì¹˜**: `cd api && npm run test:ci`
- **ê¸°ëŠ¥**: ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **í¬í•¨**: API ì—”ë“œí¬ì¸íŠ¸, ëª¨ë¸, ìœ í‹¸ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

#### End-to-End í…ŒìŠ¤íŠ¸
```bash
npm run e2e              # ë¡œì»¬ E2E í…ŒìŠ¤íŠ¸
npm run e2e:headed       # UI í‘œì‹œí•˜ë©° í…ŒìŠ¤íŠ¸
npm run e2e:a11y         # ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸  
npm run e2e:debug        # ë””ë²„ê·¸ ëª¨ë“œ
```

### ğŸ” ì½”ë“œ í’ˆì§ˆ ëª…ë ¹ì–´

#### `npm run lint`
```bash
npm run lint
```
- **ì‹¤í–‰**: `eslint "{,!(node_modules|venv)/**/}*.{js,jsx,ts,tsx}"`
- **ê¸°ëŠ¥**: ëª¨ë“  JavaScript/TypeScript íŒŒì¼ ë¦°íŠ¸ ê²€ì‚¬
- **ì„¤ì •**: `eslint.config.mjs` íŒŒì¼ ì°¸ì¡°

#### `npm run lint:fix`
```bash
npm run lint:fix
```
- **ê¸°ëŠ¥**: ìë™ìœ¼ë¡œ ê³ ì¹  ìˆ˜ ìˆëŠ” ë¦°íŠ¸ ì—ëŸ¬ ìˆ˜ì •
- **ì‚¬ìš© ì‹œì **: ì½”ë“œ ì •ë¦¬í•  ë•Œ

#### `npm run format`
```bash
npm run format
```
- **ì‹¤í–‰**: `npx prettier --write "{,!(node_modules|venv)/**/}*.{js,jsx,ts,tsx}"`
- **ê¸°ëŠ¥**: Prettierë¡œ ì½”ë“œ í¬ë§·íŒ…
- **ì„¤ì •**: `.prettierrc` íŒŒì¼ ì°¸ì¡°

### ğŸ³ Docker ê´€ë ¨ ëª…ë ¹ì–´

#### `npm run start:deployed`
```bash
npm run start:deployed
```
- **ì‹¤í–‰**: `docker compose -f ./deploy-compose.yml up -d`
- **ê¸°ëŠ¥**: í”„ë¡œë•ì…˜ìš© Docker Compose ì‹œì‘
- **ì„¤ì • íŒŒì¼**: `deploy-compose.yml`

#### `npm run stop:deployed`
```bash
npm run stop:deployed
```
- **ê¸°ëŠ¥**: í”„ë¡œë•ì…˜ Docker ì»¨í…Œì´ë„ˆ ì¤‘ì§€

### ğŸ”§ ìœ ì§€ë³´ìˆ˜ ëª…ë ¹ì–´

#### `npm run flush-cache`
```bash
npm run flush-cache
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/flush-cache.js`
- **ê¸°ëŠ¥**: Redis ìºì‹œ ì „ì²´ ì‚­ì œ
- **ì‚¬ìš© ì‹œì **: ìºì‹œ ë¬¸ì œë¡œ ì¸í•œ ì˜¤ì‘ë™ ì‹œ

#### `npm run reset-meili-sync`
```bash
npm run reset-meili-sync
```
- **ì‹¤í–‰ íŒŒì¼**: `node config/reset-meili-sync.js`
- **ê¸°ëŠ¥**: MeiliSearch ì¸ë±ìŠ¤ ì´ˆê¸°í™”
- **ì‚¬ìš© ì‹œì **: ê²€ìƒ‰ ê¸°ëŠ¥ ë¬¸ì œ ë°œìƒ ì‹œ

## ğŸš€ ì¼ë°˜ì ì¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ğŸ ì²˜ìŒ ì‹œì‘í•  ë•Œ
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# 3. íŒ¨í‚¤ì§€ ë¹Œë“œ (ìˆœì„œ ì¤‘ìš”!)
npm run build:data-schemas
npm run build:data-provider
npm run build:api
npm run build:client-package

# 4. ê°œë°œ ì„œë²„ ì‹œì‘
npm run backend:dev      # í„°ë¯¸ë„ 1
npm run frontend:dev     # í„°ë¯¸ë„ 2
```

### ğŸ”„ ì¼ë°˜ì ì¸ ê°œë°œ ì‚¬ì´í´
```bash
# 1. ì½”ë“œ ìˆ˜ì • í›„ í…ŒìŠ¤íŠ¸
npm run test:client
npm run test:api

# 2. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
npm run lint:fix
npm run format

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run frontend

# 4. E2E í…ŒìŠ¤íŠ¸ (ì„ íƒì‚¬í•­)
npm run e2e
```

### ğŸ› ë¬¸ì œ í•´ê²°í•  ë•Œ
```bash
# 1. ë¹Œë“œ ë¬¸ì œ ë°œìƒì‹œ
npm run reinstall
npm run build:data-schemas
npm run build:data-provider
npm run build:api
npm run build:client-package

# 2. ìºì‹œ ë¬¸ì œ ë°œìƒì‹œ
npm run flush-cache

# 3. ê²€ìƒ‰ ë¬¸ì œ ë°œìƒì‹œ
npm run reset-meili-sync
```

## ğŸ“ Bun ëª…ë ¹ì–´ë“¤

LibreChatì€ npm ì™¸ì—ë„ Bun íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì§€ì›í•©ë‹ˆë‹¤:

```bash
npm run b:api            # Bunìœ¼ë¡œ ë°±ì—”ë“œ ì‹¤í–‰
npm run b:client:dev     # Bunìœ¼ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
npm run b:test:client    # Bunìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸
npm run b:test:api       # Bunìœ¼ë¡œ API í…ŒìŠ¤íŠ¸
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **íŒ¨í‚¤ì§€ ë¹Œë“œ ìˆœì„œ**: ë°˜ë“œì‹œ ì˜ì¡´ì„± ìˆœì„œëŒ€ë¡œ ë¹Œë“œí•´ì•¼ í•¨
2. **í™˜ê²½ë³€ìˆ˜**: ì‹¤í–‰ ì „ `.env` íŒŒì¼ ì„¤ì • í•„ìˆ˜
3. **í¬íŠ¸ ì¶©ëŒ**: ê¸°ë³¸ í¬íŠ¸ 3080ì´ ì‚¬ìš©ì¤‘ì´ë©´ PORT í™˜ê²½ë³€ìˆ˜ë¡œ ë³€ê²½
4. **ê¶Œí•œ ë¬¸ì œ**: ì¼ë¶€ ëª…ë ¹ì–´ëŠ” ê´€ë¦¬ì ê¶Œí•œ í•„ìš”í•  ìˆ˜ ìˆìŒ
5. **Docker ë©”ëª¨ë¦¬**: Docker ì‹¤í–‰ì‹œ ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ í• ë‹¹ í•„ìš”

ì´ ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì—¬ LibreChat ê°œë°œì„ íš¨ìœ¨ì ìœ¼ë¡œ ì§„í–‰í•˜ì„¸ìš”!